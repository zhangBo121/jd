"use strict";var myBuyCart=document.querySelector(".myBuyCart");function slider(){for(var e=document.querySelector(".prev"),t=document.querySelector(".next"),n=document.querySelector(".slider_point"),l=document.querySelector(".bannerSlideshow"),c=l.children[0].children[0].children,o=0,r=l.offsetWidth,i=c.length-1;0<=i;i--){var a=document.createElement("li");a.className="slider-ctrl-con",n.insertBefore(a,n.children[0])}for(i=0;i<c.length;i++)c[i].style.left=r+"px";c[o].style.left=0;var s=n.children;function d(){var e=o+1;e>c.length-1&&(e=0),c[e].style.left=r+"px",animate(c[o],{left:-r}),animate(c[e],{left:0}),o=e,u()}function u(){for(var e=0;e<c.length;e++)s[e].className="slider-ctrl-con";s[o].className="slider-ctrl-con light"}s[o].className="slider-ctrl-con light",l.timer=setInterval(function(){d()},2e3),l.onmouseenter=function(){l.timer=clearInterval(l.timer)},l.onmouseleave=function(){l.timer=setInterval(function(){d()},2e3)},e.onclick=function(){var e=o-1;e<0&&(e=c.length-1);c[e].style.left=-r+"px",animate(c[o],{left:r}),animate(c[e],{left:e}),o=e,u()},t.onclick=d}myBuyCart.onclick=function(){location.href="./cart.html"},slider();var lis=document.querySelectorAll(".main_list_top li"),divs=document.querySelectorAll(".main_list_goods li");function tabContral(e,t){e=e,t=t;for(var n=0,l=0;l<e.length;l++)e[l].index=l,e[l].onclick=function(){e[n].className="",t[n].className="",e[this.index].className="active01",t[this.index].className="show",n=this.index}}function rendererPage(e){var n=document.querySelector(".main_list_goods li:nth-child(1)"),c=[];e.forEach(function(e){var t=document.createElement("div");t.className="main_list_gs",t.innerHTML='\n        <img data-src="'.concat(e["图片地址"],'" alt="">\n        <p>').concat(e["商品名称"],"</p>\n        <span><i>￥</i>").concat(e["价格"],"</span>\n        "),n.appendChild(t)});for(var t=n.children,l=0;l<t.length;l++)c.push(t[l].children[0]);function o(){for(var e=document.body.scrollTop||document.documentElement.scrollTop,t=document.documentElement.clientHeight,n=0,l=c.length;n<l;n++)offset(c[n]).top<=e+t&&(c[n].src=c[n].getAttribute("data-src"))}o(),window.onscroll=function(){o()}}tabContral(lis,divs),ajax({url:"../data/guesslikegoods.json",type:"get",data:"",cache:!0,dataType:"json",success:function(e){console.log(e),rendererPage(e)}});