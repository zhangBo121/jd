"use strict";var login=document.querySelector(".login").firstElementChild,indexLoginTopR=document.querySelector(".index_login_top_r");if(localStorage.getItem("user_pass"))var localData=JSON.parse(localStorage.getItem("user_pass"));else localData=[];console.log(localData),0<localData.length&&localData.forEach(function(e){if(1===e.haslogin){console.log(19090),login.innerHTML="<span></span>";var n=document.createElement("span");n.className="newlogin",n.innerHTML="用户".concat(e.username01),login.appendChild(n),indexLoginTopR.innerHTML="\n            <p></p>\n            ";var t=document.createElement("b");t.className="loginB",t.innerHTML="欢迎用户".concat(e.username01),indexLoginTopR.appendChild(t)}});var newlogin=login.firstElementChild,quitLogin=document.querySelector(".quitLogin");login.onclick=function(){quitLogin.style.display="block"},indexLoginTopR.onclick=function(){quitLogin.style.display="block"},quitLogin.onclick=function(e){(e=e||event).stopPropagation?e.stopPropagation():e.cancelBubble=!0,login.innerHTML="";var n=document.createElement("em");n.className="newem",n.innerHTML='<i><a href="./login.html">你好，请登录</a></i><b><a href="./register.html">免..</a></b>',login.appendChild(n),quitLogin.style.display="none",indexLoginTopR.innerHTML="",indexLoginTopR.innerHTML="\n    <p>Hi~欢迎逛京东</p>\n    ";var t=JSON.parse(localStorage.getItem("user_pass"));t.forEach(function(e){1===e.haslogin&&(e.haslogin=0)}),localStorage.setItem("user_pass",JSON.stringify(t))};var myBuyCart=document.querySelector(".myBuyCart");function slider(){for(var e=document.querySelector(".prev"),n=document.querySelector(".next"),t=document.querySelector(".slider_point"),o=document.querySelector(".bannerSlideshow"),l=o.children[0].children[0].children,i=0,a=o.offsetWidth,r=l.length-1;0<=r;r--){var c=document.createElement("li");c.className="slider-ctrl-con",t.insertBefore(c,t.children[0])}for(r=0;r<l.length;r++)l[r].style.left=a+"px";l[i].style.left=0;var s=t.children;function u(){var e=i+1;e>l.length-1&&(e=0),l[e].style.left=a+"px",animate(l[i],{left:-a}),animate(l[e],{left:0}),i=e,d()}function d(){for(var e=0;e<l.length;e++)s[e].className="slider-ctrl-con";s[i].className="slider-ctrl-con light"}s[i].className="slider-ctrl-con light",o.timer=setInterval(function(){u()},2e3),o.onmouseenter=function(){o.timer=clearInterval(o.timer)},o.onmouseleave=function(){o.timer=setInterval(function(){u()},2e3)},e.onclick=function(){var e=i-1;e<0&&(e=l.length-1);l[e].style.left=-a+"px",animate(l[i],{left:a}),animate(l[e],{left:e}),i=e,d()},n.onclick=u}myBuyCart.onclick=function(){location.href="./cart.html"},slider();var lis=document.querySelectorAll(".main_list_top li"),divs=document.querySelectorAll(".main_list_goods li");function tabContral(e,n){e=e,n=n;for(var t=0,o=0;o<e.length;o++)e[o].index=o,e[o].onclick=function(){e[t].className="",n[t].className="",e[this.index].className="active01",n[this.index].className="show",t=this.index}}function countdownClock(){var a,r,c,s=document.querySelector(".jdCDClock"),u=document.querySelector(".countDown");function d(e){return e<10?"0"+e:e}a="2021/01/09 10:00:00",r=setInterval(function(){var e,n,t,o,l,i;c=setInterval((e=new Date(a),n=new Date,t=e.getTime()-n.getTime(),o=Math.floor(t/1e3/60/60%24),l=Math.floor(t/1e3/60%60),i=Math.floor(t/1e3%60),t<=0&&(s.innerHTML="活动已结束",u.innerHTML=" ",clearInterval(r),clearInterval(c)),document.getElementById("t_h").innerHTML=d(o),document.getElementById("t_m").innerHTML=d(l),void(document.getElementById("t_s").innerHTML=d(i))),1e3)},1e3,a)}function rendererPage(e){var t=document.querySelector(".main_list_goods li:nth-child(1)"),n=[];e.forEach(function(e){var n=document.createElement("div");n.className="main_list_gs",n.innerHTML='\n        <img src="'.concat(e["图片地址"],'" alt="">\n        <p>').concat(e["商品名称"],"</p>\n        <span><i>￥</i>").concat(e["价格"],"</span>\n        "),t.appendChild(n)});for(var o=t.children,l=0;l<o.length;l++)n.push(o[l].children[0]);var i=document.querySelector(".back_top"),a=i.children,r=[700,800,1e3,1900],c=a[a.length-1],s=document.querySelector("html"),u=0;m();n=[0];var d=0;for(l=0;l<r.length;l++)d+=r[l],n.push(d);window.onscroll=function(){400<=getScroll().top?i.style.display="block":i.style.display="none";for(var e=0;e<n.length-1;e++)if(getScroll().top>n[e]&&getScroll().top<n[e+1]){u=e;break}m()},c.onclick=function(){animate(s,{scrollTop:0})};for(l=0;l<a.length-1;l++)a[l].index=l,a[l].onclick=function(){var e=this;animate(s,{scrollTop:n[this.index]},function(){u=e.index})};function m(){for(var e=0;e<a.length-1;e++)a[e].className="";a[u].className="light"}}tabContral(lis,divs),countdownClock(),ajax({url:"../data/guesslikegoods.json",type:"get",data:"",cache:!1,dataType:"json",success:function(e){rendererPage(e)}});