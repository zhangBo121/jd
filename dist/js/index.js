"use strict";var login=document.querySelector(".login").firstElementChild,indexLoginTopR=document.querySelector(".index_login_top_r"),localData=JSON.parse(localStorage.getItem("user_pass"));localData.forEach(function(e){if(1===e.haslogin){login.innerHTML="";var n=document.createElement("span");n.className="newlogin",n.innerHTML="\n        用户".concat(e.username01,"\n        "),login.appendChild(n),indexLoginTopR.innerHTML="";var t=document.createElement("b");t.className="loginB",t.innerHTML="欢迎用户".concat(e.username01),indexLoginTopR.appendChild(t)}});var newlogin=login.firstElementChild,quitLogin=document.querySelector(".quitLogin");login.onclick=function(){quitLogin.style.display="block"},indexLoginTopR.onclick=function(){quitLogin.style.display="block"},quitLogin.onclick=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0;var n=document.createElement("em");n.className="newem",n.innerHTML='<i><a href="./login.html">你好，请登录</a></i><b><a href="./register.html">免..</a></b>',login.appendChild(n),quitLogin.style.display="none",newlogin.style.display="none",indexLoginTopR.innerHTML="",indexLoginTopR.innerHTML='\n    <p>Hi~欢迎逛京东</p>\n    <div><span class="login001">登录</span> | <span class="register001">注册</span></div>\n    ';var t=JSON.parse(localStorage.getItem("user_pass"));t.forEach(function(e){1===e.haslogin&&(e.haslogin=0)}),localStorage.setItem("user_pass",JSON.stringify(t))};var login001=document.querySelector(".login001"),register001=document.querySelector(".register001");console.log(99e3),console.log(login001),console.log(register001);var myBuyCart=document.querySelector(".myBuyCart");function slider(){for(var e=document.querySelector(".prev"),n=document.querySelector(".next"),t=document.querySelector(".slider_point"),o=document.querySelector(".bannerSlideshow"),l=o.children[0].children[0].children,i=0,r=o.offsetWidth,c=l.length-1;0<=c;c--){var a=document.createElement("li");a.className="slider-ctrl-con",t.insertBefore(a,t.children[0])}for(c=0;c<l.length;c++)l[c].style.left=r+"px";l[i].style.left=0;var s=t.children;function u(){var e=i+1;e>l.length-1&&(e=0),l[e].style.left=r+"px",animate(l[i],{left:-r}),animate(l[e],{left:0}),i=e,d()}function d(){for(var e=0;e<l.length;e++)s[e].className="slider-ctrl-con";s[i].className="slider-ctrl-con light"}s[i].className="slider-ctrl-con light",o.timer=setInterval(function(){u()},2e3),o.onmouseenter=function(){o.timer=clearInterval(o.timer)},o.onmouseleave=function(){o.timer=setInterval(function(){u()},2e3)},e.onclick=function(){var e=i-1;e<0&&(e=l.length-1);l[e].style.left=-r+"px",animate(l[i],{left:r}),animate(l[e],{left:e}),i=e,d()},n.onclick=u}myBuyCart.onclick=function(){location.href="./cart.html"},slider();var lis=document.querySelectorAll(".main_list_top li"),divs=document.querySelectorAll(".main_list_goods li");function tabContral(e,n){e=e,n=n;for(var t=0,o=0;o<e.length;o++)e[o].index=o,e[o].onclick=function(){e[t].className="",n[t].className="",e[this.index].className="active01",n[this.index].className="show",t=this.index}}function countdownClock(){var r,c,a,s=document.querySelector(".jdCDClock"),u=document.querySelector(".countDown");function d(e){return e<10?"0"+e:e}r="2021/01/07 24:00:00",c=setInterval(function(){var e,n,t,o,l,i;a=setInterval((e=new Date(r),n=new Date,t=e.getTime()-n.getTime(),o=Math.floor(t/1e3/60/60%24),l=Math.floor(t/1e3/60%60),i=Math.floor(t/1e3%60),t<=0&&(s.innerHTML="活动已结束",u.innerHTML=" ",clearInterval(c),clearInterval(a)),document.getElementById("t_h").innerHTML=d(o),document.getElementById("t_m").innerHTML=d(l),void(document.getElementById("t_s").innerHTML=d(i))),1e3)},1e3,r)}function rendererPage(e){var t=document.querySelector(".main_list_goods li:nth-child(1)"),l=[];e.forEach(function(e){var n=document.createElement("div");n.className="main_list_gs",n.innerHTML='\n        <img data-src="'.concat(e["图片地址"],'" alt="">\n        <p>').concat(e["商品名称"],"</p>\n        <span><i>￥</i>").concat(e["价格"],"</span>\n        "),t.appendChild(n)});for(var n=t.children,o=0;o<n.length;o++)l.push(n[o].children[0]);function i(){for(var e=document.body.scrollTop||document.documentElement.scrollTop,n=document.documentElement.clientHeight,t=0,o=l.length;t<o;t++)offset(l[t]).top<=e+n&&(l[t].src=l[t].getAttribute("data-src"))}i();var r=document.querySelector(".back_top"),c=r.children,a=[600,650,1200,1900],s=c[c.length-1],u=document.querySelector("html"),d=0;g();l=[0];var m=0;for(o=0;o<a.length;o++)m+=a[o],l.push(m);console.log(l),window.onscroll=function(){i(),400<=getScroll().top?r.style.display="block":r.style.display="none";for(var e=0;e<l.length-1;e++)if(getScroll().top>l[e]&&getScroll().top<l[e+1]){d=e;break}g()},s.onclick=function(){animate(u,{scrollTop:0})};for(o=0;o<c.length-1;o++)c[o].index=o,c[o].onclick=function(){var e=this;animate(u,{scrollTop:l[this.index]},function(){d=e.index})};function g(){for(var e=0;e<c.length-1;e++)c[e].className="";c[d].className="light"}}tabContral(lis,divs),countdownClock(),ajax({url:"../data/guesslikegoods.json",type:"get",data:"",cache:!1,dataType:"json",success:function(e){rendererPage(e)}});