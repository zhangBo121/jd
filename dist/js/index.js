"use strict";var login=document.querySelector(".login").firstElementChild,indexLoginTopR=document.querySelector(".index_login_top_r"),localData=JSON.parse(localStorage.getItem("user_pass"));localData.forEach(function(e){if(1===e.haslogin){login.innerHTML="";var n=document.createElement("span");n.className="newlogin",n.innerHTML="\n        用户".concat(e.username01,"\n        "),login.appendChild(n),indexLoginTopR.innerHTML="";var t=document.createElement("b");t.className="loginB",t.innerHTML="欢迎用户".concat(e.username01),indexLoginTopR.appendChild(t)}});var myBuyCart=document.querySelector(".myBuyCart");function slider(){for(var e=document.querySelector(".prev"),n=document.querySelector(".next"),t=document.querySelector(".slider_point"),l=document.querySelector(".bannerSlideshow"),o=l.children[0].children[0].children,r=0,c=l.offsetWidth,a=o.length-1;0<=a;a--){var i=document.createElement("li");i.className="slider-ctrl-con",t.insertBefore(i,t.children[0])}for(a=0;a<o.length;a++)o[a].style.left=c+"px";o[r].style.left=0;var s=t.children;function d(){var e=r+1;e>o.length-1&&(e=0),o[e].style.left=c+"px",animate(o[r],{left:-c}),animate(o[e],{left:0}),r=e,u()}function u(){for(var e=0;e<o.length;e++)s[e].className="slider-ctrl-con";s[r].className="slider-ctrl-con light"}s[r].className="slider-ctrl-con light",l.timer=setInterval(function(){d()},2e3),l.onmouseenter=function(){l.timer=clearInterval(l.timer)},l.onmouseleave=function(){l.timer=setInterval(function(){d()},2e3)},e.onclick=function(){var e=r-1;e<0&&(e=o.length-1);o[e].style.left=-c+"px",animate(o[r],{left:c}),animate(o[e],{left:e}),r=e,u()},n.onclick=d}myBuyCart.onclick=function(){location.href="./cart.html"},slider();var lis=document.querySelectorAll(".main_list_top li"),divs=document.querySelectorAll(".main_list_goods li");function tabContral(e,n){e=e,n=n;for(var t=0,l=0;l<e.length;l++)e[l].index=l,e[l].onclick=function(){e[t].className="",n[t].className="",e[this.index].className="active01",n[this.index].className="show",t=this.index}}function countdownClock(){var c,a,i,s=document.querySelector(".jdCDClock"),d=document.querySelector(".countDown");function u(e){return e<10?"0"+e:e}c="2021/01/08 10:00:00",a=setInterval(function(){var e,n,t,l,o,r;i=setInterval((e=new Date(c),n=new Date,t=e.getTime()-n.getTime(),l=Math.floor(t/1e3/60/60%24),o=Math.floor(t/1e3/60%60),r=Math.floor(t/1e3%60),t<=0&&(s.innerHTML="活动已结束",d.innerHTML=" ",clearInterval(a),clearInterval(i)),document.getElementById("t_h").innerHTML=u(l),document.getElementById("t_m").innerHTML=u(o),void(document.getElementById("t_s").innerHTML=u(r))),1e3)},1e3,c)}function rendererPage(e){var t=document.querySelector(".main_list_goods li:nth-child(1)"),n=[];e.forEach(function(e){var n=document.createElement("div");n.className="main_list_gs",n.innerHTML='\n        <img src="'.concat(e["图片地址"],'" alt="">\n        <p>').concat(e["商品名称"],"</p>\n        <span><i>￥</i>").concat(e["价格"],"</span>\n        "),t.appendChild(n)});for(var l=t.children,o=0;o<l.length;o++)n.push(l[o].children[0]);var r=document.querySelector(".back_top"),c=r.children,a=[600,650,1e3,2100],i=c[c.length-1],s=document.querySelector("html"),d=0;m();n=[0];var u=0;for(o=0;o<a.length;o++)u+=a[o],n.push(u);window.onscroll=function(){400<=getScroll().top?r.style.display="block":r.style.display="none";for(var e=0;e<n.length-1;e++)if(getScroll().top>n[e]&&getScroll().top<n[e+1]){d=e;break}m()},i.onclick=function(){animate(s,{scrollTop:0})};for(o=0;o<c.length-1;o++)c[o].index=o,c[o].onclick=function(){var e=this;animate(s,{scrollTop:n[this.index]},function(){d=e.index})};function m(){for(var e=0;e<c.length-1;e++)c[e].className="";c[d].className="light"}}tabContral(lis,divs),countdownClock(),ajax({url:"../data/guesslikegoods.json",type:"get",data:"",cache:!1,dataType:"json",success:function(e){rendererPage(e)}});