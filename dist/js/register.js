"use strict";function changeColor(e){e.style.backgroundColor="rgb(51,187,68)",e.style.color="white",e.style.borderColor="rgb(51,187,68)",e.nextElementSibling.style.color="rgb(51,187,68)"}window.onload=function(){var e=document.querySelector(".nextStep"),n=document.querySelector(".phone"),c=document.querySelector(".verifyCode"),a=document.querySelector(".randomCode"),s=document.querySelector(".verifyPhone"),d=document.querySelector(".verifyUser"),i=document.querySelector(".main_head h3:first-child span"),y=document.querySelector(".main_head h3:nth-child(2) span"),g=document.querySelector(".main_head h3:nth-child(3) span"),u=document.querySelector(".verify01"),m=document.querySelector(".verify02"),h=document.querySelector(".registeredSuccessfully"),S=document.querySelector(".otherRegister");document.querySelector(".backlogin").onclick=function(){location.href="./login.html"},a.innerHTML=getVerificationCode(6),a.onclick=function(){a.innerHTML=getVerificationCode(6)};var f=/^(\+861|1)[3-9]\d{9}$/,v=/^\w{6,8}$/;e.onclick=function(){var e=n.value,o=a.innerHTML,l=c.value,r=!1,t=!1;f.test(e)?(r=!(n.value=""),console.log("手机号验证成功")):(r=!1,alert("手机号输入错误")),o==l?(t=!(c.value=""),a.innerHTML=getVerificationCode(6),console.log("手机号验证完成0001")):(t=!1,a.innerHTML=getVerificationCode(6),console.log("验证码输入错误")),r&&t?(s.style.display="none",d.style.display="block",changeColor(i),u.style.color="rgb(51,187,68)",console.log("可以进行下一步")):(alert("验证失败"),console.log("验证不通过，不能进行下一步"))};var o=document.querySelector(".registerImmediately"),p=document.querySelector(".username01"),q=document.querySelector(".password01"),b=document.querySelector(".password02");o.onclick=function(){var o=p.value,e=q.value,l=b.value,r=!1,t=!1,n=!1;if(f.test(o)?(r=!0,console.log("用户名可用")):(r=!1,alert("用户名错误")),v.test(e)?(t=!0,console.log("密码可用")):(t=!1,alert("密码不可用")),e===l?(n=!0,console.log("再次密码验证通过")):(n=!1,alert("与上次密码不符")),r&&t&&n){if(localStorage.getItem("user_pass"))var c=JSON.parse(localStorage.getItem("user_pass"));else c=[];var a=!1;0<c.length&&c.forEach(function(e){if(e.username01===o)return alert("账号已被注册"),h.style.display="none",document.location.reload(),void(a=!0)}),a||c.push({username01:o,password01:e,haslogin:0}),localStorage.setItem("user_pass",JSON.stringify(c)),d.style.display="none",h.style.display="block",S.style.display="none",changeColor(y),changeColor(g),m.style.color="rgb(51,187,68)";var s,i=3,u=document.querySelector(".registeredSuccessfully p:last-child b");s=setInterval(function(){i--,console.log(i),i<=0&&(clearInterval(s),location.href="./login.html"),u.innerHTML=i},1e3),console.log("注册成功")}else console.log("注册失败")}};