"use strict";function changeColor(e){e.style.backgroundColor="rgb(51,187,68)",e.style.color="white",e.style.borderColor="rgb(51,187,68)",e.nextElementSibling.style.color="rgb(51,187,68)"}window.onload=function(){var e=document.querySelector(".nextStep"),t=document.querySelector(".phone"),c=document.querySelector(".verifyCode"),s=document.querySelector(".randomCode"),a=document.querySelector(".verifyPhone"),d=document.querySelector(".verifyUser"),i=document.querySelector(".main_head h3:first-child span"),g=document.querySelector(".main_head h3:nth-child(2) span"),y=document.querySelector(".main_head h3:nth-child(3) span"),u=document.querySelector(".verify01"),m=document.querySelector(".verify02"),S=document.querySelector(".registeredSuccessfully"),h=document.querySelector(".otherRegister");s.innerHTML=getVerificationCode(6),s.onclick=function(){s.innerHTML=getVerificationCode(6)};var f=/^(\+861|1)[3-9]\d{9}$/,v=/^\w{6,8}$/;e.onclick=function(){var e=t.value,o=s.innerHTML,l=c.value,r=!1,n=!1;f.test(e)?(r=!(t.value=""),console.log("手机号验证成功")):(r=!1,console.log("手机号输入错误")),o==l?(n=!(c.value=""),s.innerHTML=getVerificationCode(6),console.log("手机号验证完成0001")):(n=!1,s.innerHTML=getVerificationCode(6),console.log("验证码输入错误")),r&&n?(a.style.display="none",d.style.display="block",changeColor(i),u.style.color="rgb(51,187,68)",console.log("可以进行下一步")):(alert("验证失败"),console.log("验证不通过，不能进行下一步"))};var o=document.querySelector(".registerImmediately"),p=document.querySelector(".username01"),q=document.querySelector(".password01"),C=document.querySelector(".password02");o.onclick=function(){var o=p.value,e=q.value,l=C.value,r=!1,n=!1,t=!1;if(f.test(o)?(r=!0,console.log("用户名可用")):(r=!1,console.log("用户名错误")),v.test(e)?(n=!0,console.log("密码可用")):(n=!1,console.log("密码不可用")),e===l?(t=!0,console.log("再次密码验证通过")):(t=!1,console.log("与上次密码不符")),r&&n&&t){if(localStorage.getItem("user_pass"))var c=JSON.parse(localStorage.getItem("user_pass"));else c=[];var s=!1;0<c.length&&c.forEach(function(e){if(e.username01===o)return alert("账号已被注册"),S.style.display="none",document.location.reload(),void(s=!0)}),s||(console.log(o),console.log(e),c.push({username01:o,password01:e,haslogin:0})),localStorage.setItem("user_pass",JSON.stringify(c)),d.style.display="none",S.style.display="block",h.style.display="none",changeColor(g),changeColor(y),m.style.color="rgb(51,187,68)";var a,i=3,u=document.querySelector(".registeredSuccessfully p:last-child b");a=setInterval(function(){i--,console.log(i),i<=0&&(clearInterval(a),location.href="./login.html"),u.innerHTML=i},1e3),console.log("注册成功")}else console.log("注册失败")}};